{"remainingRequest":"/home/yeh/repository/teach/node_modules/babel-loader/lib/index.js!/home/yeh/repository/teach/src/api/request.js","dependencies":[{"path":"/home/yeh/repository/teach/src/api/request.js","mtime":1586870910327},{"path":"/home/yeh/repository/teach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yeh/repository/teach/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICcnIDogJ2h0dHA6Ly8xOTIuMTY4LjAuMTEzOjgwODUnOwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZVVSTCwKICB0aW1lb3V0OiAxMDAwMAp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmICh0b2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTsKfSk7CnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlcy5kYXRhLmRhdGE7CiAgfSBlbHNlIHsKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogJ+ivt+axguWksei0pe+8gScsCiAgICAgIHR5cGU6ICdlcnJvcicKICAgIH0pOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"sources":["/home/yeh/repository/teach/src/api/request.js"],"names":["axios","baseUrl","process","env","NODE_ENV","service","create","baseURL","timeout","interceptors","request","use","config","token","headers","err","console","error","response","res","data","code","message","type"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,IAAIC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,EAAxC,GAA6C,2BAA3D;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAPA,OADyB;AAEzBC,EAAAA,OAAO,EAAE;AAFgB,CAAb,CAAhB;AAKAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACN,MAAIC,KAAJ,EAAW;AACPD,IAAAA,MAAM,CAACE,OAAP,CAAe,eAAf,IAAkCD,KAAlC;AACAD,IAAAA,MAAM,CAACE,OAAP,CAAe,cAAf,IAAiC,mCAAjC;AACH;;AACD,SAAOF,MAAP;AACH,CAPL,EAQI,UAAAG,GAAG;AAAA,SAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,CARP;AAWAV,OAAO,CAACI,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAC,MAAM,EAAI;AACN,MAAIO,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,GAAtB,EAA2B;AACvB,WAAOF,GAAG,CAACC,IAAJ,CAASA,IAAhB;AACH,GAFD,MAEO;AACH,aACI;AAAEE,MAAAA,OAAO,EAAE,OAAX;AAAoBC,MAAAA,IAAI,EAAE;AAA1B,KADJ;AAGH;AACJ,CATL;AAYA,eAAelB,OAAf","sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\n\nlet baseUrl = process.env.NODE_ENV === 'production' ? '' : 'http://192.168.0.113:8085'\n\nconst service = axios.create({\n    baseURL,\n    timeout: 10000\n})\n\nservice.interceptors.request.use(\n    config => {\n        if (token) {\n            config.headers['Authorization'] = token\n            config.headers['Content-Type'] = 'application/x-www-form-urlencoded'\n        }\n        return config\n    },\n    err => console.error(err)\n)\n\nservice.interceptors.response.use(\n    config => {\n        if (res.data.code === 200) {\n            return res.data.data\n        } else {\n            Message(\n                { message: '请求失败！', type: 'error' }\n            )\n        }\n    }\n)\n\nexport default service"]}]}